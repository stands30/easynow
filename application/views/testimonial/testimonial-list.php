<!DOCTYPE html><html lang="en">  <meta charset="utf-8" />  <meta http-equiv="X-UA-Compatible" content="IE=edge">  <meta content="width=device-width, initial-scale=1" name="viewport" />  <meta content="" name="description" />  <meta content="" name="author" />  <title>    <?php echo $title.' | '.TITLE_POSTFIX; ?>  </title>  <head>    <?php$global_asset_version = global_asset_version();$this->load->view('common/header_styles');?>    <link href="<?php echo base_url(); ?>assets/project/global/plugins/datatables/datatables.min.css<?php echo $global_asset_version; ?>" rel="stylesheet" type="text/css" />    <link href="<?php echo base_url(); ?>assets/project/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css<?php echo $global_asset_version; ?>" rel="stylesheet" type="text/css" />    <link href="<?php echo base_url(); ?>assets/project/global/plugins/datatables/bootstrap/css/dataTables.bootstrap.min.css<?php echo $global_asset_version; ?>" rel="stylesheet" type="text/css" />    <link href="<?php echo base_url(); ?>assets/project/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css<?php echo $global_asset_version; ?>" rel="stylesheet" type="text/css" />    <link href="<?php echo base_url(); ?>assets/project/sweetalert/dist/sweetalert.css<?php echo $global_asset_version; ?>" rel="stylesheet" type="text/css" />    <!-- daterange picker -->    <link href="<?php echo base_url(); ?>assets/project/global/plugins/bootstrap-daterangepicker/daterangepicker.min.css" rel="stylesheet" type="text/css" />  </head>  <body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">    <?php $this->load->view('common/header'); ?>    <div class="clearfix">     </div>    <!-- BEGIN CONTAINER -->    <div class="page-container">      <?php $this->load->view('common/sidebar'); ?>      <!-- BEGIN CONTENT -->      <div class="page-content-wrapper">        <!-- BEGIN CONTENT BODY -->        <div class="page-content">          <!-- BEGIN PAGE HEADER-->          <!-- BEGIN PAGE BAR -->           <div class="page-bar" id="breadcrumbs-list">            <div class="row">              <div class="col-md-6 col-sm-6 mob-breadcrumb">                <?php echo $breadcrumb; ?>              </div>              <div class="col-md-6 col-sm-6 mob-date text-right">                <div class="breadcrumb-date">                                  <div class="page-toolbar">                    <div id="daterangepicker-custom-range" class="pull-right tooltips btn btn-sm btn-range-divider" data-container="body" data-placement="bottom" data-original-title="Change Company List Date Range" data-daterangevaluestart="" data-daterangevalueend="">                        <span class="thin uppercase"></span>&nbsp;                        <i class="fas fa-calendar-alt" aria-hidden="true"></i>                    </div>                  </div>                  <a href="#" class="btn btn-primary btn-month-srt">2019</a>                  <a href="#" class="btn btn-primary btn-month-srt">April</a>                  <a href="#" class="btn btn-primary btn-month-srt">Today</a>                </div>              </div>            </div>          </div>          <!-- END PAGE BAR -->          <!-- END PAGE HEADER-->          <!-- END PAGE HEADER-->          <!-- -----MAIN CONTENTS START HERE----- -->          <div class="portlet light bordered">            <div class="portlet-title">              <div class="caption font-dark">                <!-- <i class="icon-settings font-dark"></i> -->                <span class="list-title-caption caption-subject bold "><i class="fa fa-users icon-team"></i><?php  echo $title; ?></span>                <div id="btn-box" class="btn-group">                  <a href="<?php echo base_url('testimonial-add'); ?>" class="btn green"> Add Testimonials                    <i class="fa fa-plus">                    </i>                  </a>                </div>                <div class="btn-group">                  <button id="EnableTestimonial"  class="btn green" onclick="return EnableTestimonial();">                    Enable                  </button>                </div>                <div class="btn-group">                  <button id="DisableTestimonial"  class="btn green" onclick="return DisableTestimonial();">                    Disable                  </button>                </div>              </div>              <div class="tools">               </div>            </div>            <div class="portlet-body">              <table class="table table-striped table-bordered table-quot table-list " id="testimonialList">                <thead>                  <tr>                    <th>No</th>                    <th>Customer Name</th>                    <th>Description</th>                    <th>Image</th>                    <th>Status</th>                    <th>Created date</th>                    <th>Created By </th>                    <th>Action </th>                  </tr>                </thead>                <tbody>                </tbody>              </table>            </div>          </div>          <!-- -----MAIN CONTENTS END HERE----- -->          <!-- Submitted testimonials -->                  </div>        <!-- END CONTENT BODY -->      </div>      <!-- END CONTENT -->    </div>    <!-- END CONTAINER -->    <div class="js-scripts">      <?php $this->load->view('common/footer_scripts'); ?>      <script src="<?php echo base_url(); ?>assets/project/global/scripts/datatable.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/global/plugins/datatables/datatables.min.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/sweetalert/dist/sweetalert.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>       <!-- Daterange Picker -->      <script src="<?php echo base_url(); ?>assets/project/global/plugins/moment.min.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js" type="text/javascript"></script>      <script src="<?php echo base_url(); ?>assets/project/global/scripts/dashboard-daterange-picker.js<?php echo $global_asset_version; ?>" type="text/javascript"></script>    <!-- OPTIONAL SCRIPTS -->    <!-- END OPTIONAL SCRIPTS -->    </div>  <script type="text/javascript">    $(document).ready(function(){      testimonialList();      // testimonialAddList();    }                     )    function testimonialList()    {      $('#testimonialList').DataTable().destroy();      var customDataTableElement = '#testimonialList';      var customDataTableCount   = '<?php echo $dataTableData->table_data_count; ?>';      var customDataTableServer  = <?php echo $dataTableData->table_server_status;      ?>;      var customDataTableUrl     =  baseUrl + 'testimonial-getlist?table_data_count='+customDataTableCount;      var tml_id_i = 0;      var customDataTableColumns = [        {          'data'  : 'tml_id' ,          'render': function(data, type, row, meta)          {            link = '<input type="checkbox" id="chk_nf'+tml_id_i+'" name="chk_fn[]" value="'+row.tml_id+'">';            return link;          }        }        ,        {          'data'   : 'tml_cus_name'}        ,        {          'data'   : 'tml_desc'}        ,        {          'data'   : 'tml_image' ,          'render': function(data, type, row, meta)          {            var links = '';            links = '<img src="'+baseUrl+'<?php echo TESTIMONIALS_IMAGE_PATH ?>'+row.tml_image+'" style="height: 90px;width: auto;">'            return links;          }        }        ,        {          'data'  : 'tml_enable_status_name' }        ,        {          'data'  : 'tml_crdt_date' }        ,        {          'data'  : 'tml_cus_name' }        ,        {          'data'  : 'tml_id' ,          'render': function(data, type, row, meta)          {            var link = '';            link += '<a href="'+baseUrl+'testimonial-edit-'+row.tml_encrypt_id+'" title="Edit Testimonials" class="datatable-links edit"><i class="fa fa-edit" aria-hidden="true"></i></a>&nbsp';            link += '<a onclick="deleteTestimonials('+row.tml_id+')" title="Delete Testimonials" class="datatable-links delete"><i class="fa fa-trash" aria-hidden="true"></i></a>';            return link;          }        }      ];      // customDatatable(customDataTableElement, customDataTableUrl, customDataTableColumns, false, customDataTableServer);      customDatatablex({        element: customDataTableElement,        url: customDataTableUrl,        columns: customDataTableColumns,        buttons : true,        serverSide : customDataTableServer,        delay : 1000,        optParam : {          <?php          echo 'exportAccess : true,';          echo 'printAccess : true,';          ?>        }      }                      );    }    // function testimonialAddList()    // {    //   $('#testimonialAddList').DataTable().destroy();    //   var customDataTableElement = '#testimonialAddList';        //   var customDataTableUrl     =  baseUrl + 'testimonial-sub-getlist?table_data_count='+customDataTableCount;    //   var tml_id_i = 0;    //   var customDataTableColumns = [    //     {    //       'data'  : 'cnt_name'}    //     ,    //     {    //       'data'  : 'cnt_mobile' }    //     ,    //     {    //       'data'  : 'cnt_email' }    //     ,    //     {    //       'data'  : 'cnt_message' }    //     ,    //     {    //       'data'  : 'cnt_id' ,    //       'render': function(data, type, row, meta)    //       {    //         var link = '';    //         link += '<a onclick="deleteTesAddtimonials('+row.cnt_id+')" title="Delete Testimonials Add"><i class="fa fa-trash" aria-hidden="true"></i></a>';    //         return link;    //       }    //     }    //   ];    //   // customDatatable(customDataTableElement, customDataTableUrl, customDataTableColumns, false, customDataTableServer);    //   customDatatablex({    //     element: customDataTableElement,    //     url: customDataTableUrl,    //     columns: customDataTableColumns,    //     buttons : true,    //     serverSide : customDataTableServer,    //     delay : 1000,    //     optParam : {    //       <?php    //       echo 'exportAccess : true,';    //       echo 'printAccess : true,';    //       ?>    //     }    //   }    //                   );    // }    function deleteTestimonials(tml_id)    {      swal({        title: "Are you sure?",        text: "You will not be able to recover this Testimonials!",        type: "warning",        showCancelButton: true,        confirmButtonClass: "btn-danger",        confirmButtonText: "Yes, delete it!",        cancelButtonText: "No, cancel plx!",        closeOnConfirm: false,        closeOnCancel: false      }           ,           function(isConfirm) {        if (isConfirm)         {          data={            tml_id:tml_id          }            ,            $.ajax({            type:"POST",            dataType:"JSON",            data:data,            url:baseUrl+"testimonial/deleteTestimonial",            success:function(response)            {              testimonialList();              window.location.reload();            }          }                  );        }        else {          swal("Cancelled", "Your imaginary file is safe :)", "error");        }      }          );    }    function deleteTesAddtimonials(cnt_id)    {      swal({        title: "Are you sure?",        text: "You will not be able to recover this Submitted Testimonials!",        type: "warning",        showCancelButton: true,        confirmButtonClass: "btn-danger",        confirmButtonText: "Yes, delete it!",        cancelButtonText: "No, cancel plx!",        closeOnConfirm: false,        closeOnCancel: false      }           ,           function(isConfirm) {        if (isConfirm)         {          data={            cnt_id:cnt_id          }            ,            $.ajax({            type:"POST",            dataType:"JSON",            data:data,            url:baseUrl+"testimonial/deleteAddTestimonial",            success:function(response)            {              testimonialAddList();              window.location.reload();            }          }                  );        }        else {          swal("Cancelled", "Your imaginary file is safe :)", "error");        }      }          );    }    function EnableTestimonial() {      document.getElementById('EnableTestimonial').disabled = 'true';      var d = confirm("Are you sure you want to enable the selected testimonial.");      if (d == 1) {        var status = '<?php echo ENABLE_STATUS; ?>';        var chk_itm = document.getElementsByName("chk_fn[]");        var count = 0;        var tml_id = new Array();        for (i = 0; i < chk_itm.length; i++) {          if (chk_itm[i].checked == true) {            //var tml_id=document.getElementById('tml_id'+i).value;            tml_id.push(chk_itm[i].value);            count++;          }        }        if (tml_id != '') {          data = {            tml_id: tml_id,            status: status,            count: count          }          $.ajax({            type: "POST",            url: baseUrl + "testimonial/changeTestimonialStatus",            dataType: "json",            data: data,            success: function(response) {              if (response.success == true) {                swal({                  title: "Done",                  text: response.message,                  type: "success",                  icon: "success",                  button: true                }                    );                document.getElementById('EnableTestimonial').disabled = 'true';                location.reload(true);              }              else {                location.reload(true);              }            }          }                );        }        else {          swal({            title: "Caution",            text: "Please Select aleast one testimonial  ",            icon: "info",            button: true          }              );          return false;        }      }      else {        document.getElementById('EnableTestimonial').disabled = 'true';        return false;      }    }    function DisableTestimonial() {      document.getElementById('DisableTestimonial').disabled = 'true';      var d = confirm("Are you sure you want to Disable the selected testimonial .");      if (d == 1) {        var status = '<?php echo DISABLE_STATUS; ?>';        var chk_itm = document.getElementsByName("chk_fn[]");        var count = 0;        var tml_id = new Array();        for (i = 0; i < chk_itm.length; i++) {          if (chk_itm[i].checked == true) {            //var tml_id=document.getElementById('tml_id'+i).value;            tml_id.push(chk_itm[i].value);            count++;          }        }        if (tml_id != '') {          data = {            tml_id: tml_id,            status: status,            count: count          }          $.ajax({            type: "POST",            url: baseUrl + "testimonial/changeTestimonialStatus",            dataType: "json",            data: data,            success: function(response) {              if (response.success == true) {                swal({                  title: "Done",                  text: response.message,                  type: "success",                  icon: "success",                  button: true                }                    );                document.getElementById('DisableTestimonial').disabled = 'true';                location.reload(true);              }              else {                location.reload(true);              }            }          }                );        }        else {          swal({            title: "Caution",            text: "Please Select aleast one testimonial  ",            icon: "info",            button: true          }              );          return false;        }      }      else {        document.getElementById('DisableTestimonial').disabled = 'true';        return false;      }    }  </script>  </body></html>